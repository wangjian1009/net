cmake_minimum_required(VERSION 3.6.2)

enable_language(C)
project(net)

set(TOOL_URL_OUTPUT_PATH ${TOOL_OUTPUT_PATH})
set(TOOL_NDT_OUTPUT_PATH ${TOOL_OUTPUT_PATH})

include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/support-pre.cmake)

if (OS_NAME STREQUAL "mingw")
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-unixem.cmake)
endif()

include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-pcre2.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-yajl.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-argtable2.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/cpe-utils.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/cpe-vfs.cmake)

include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-c-ares.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-nghttp2.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-libevent.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-ev.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-mbedtls.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-curl.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-udns.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/depends-wslay.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-core.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-dns-svr.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-dns-udns.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-dns.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-http2.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-xkcp.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-libevent.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-ev.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-sock.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-ssl.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-ws.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-smux.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-protocol-http.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-protocol-http-svr.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-prometheus-http.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-prometheus-process.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-prometheus.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-ping.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-ndt.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-trans.cmake)

include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/tool-url.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/tool-ndt.cmake)

enable_testing()
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-cmocka.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/depends-yaml.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/cpe-utils-yaml.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/../cpe/buildtools/cmake/tests.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/tests.cmake)

if (OS_NAME STREQUAL "mac")
  include(${CMAKE_CURRENT_LIST_DIR}/buildtools/cmake/net-driver-dq.cmake)
endif()
